@model WebPetShop.Models.DonHang
@{
    ViewData["Title"] = "Chi tiết đơn hàng";
}

<div class="container py-5">
    <h3 class="fw-bold text-danger mb-4">
        <i class="fa-solid fa-receipt me-2"></i> Chi tiết đơn hàng #@Model.MaDh
    </h3>

    <p><b>Ngày đặt:</b> @Model.NgayDat?.ToString("dd/MM/yyyy HH:mm")</p>
    <p><b>Trạng thái:</b> <span class="badge bg-warning text-dark">@Model.TrangThai</span></p>
    <hr />

    <table class="table table-bordered text-center align-middle shadow-sm">
        <thead class="table-danger">
            <tr>
                <th>Hình ảnh</th>
                <th>Tên sản phẩm</th>
                <th>Đơn giá</th>
                <th>Số lượng</th>
                <th>Thành tiền</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var ct in Model.ChiTietDonHangs)
            {
                <tr>
                    <td><img src="~/ImagesWWeb/@ct.MaSpNavigation.HinhAnh" width="70" height="70" style="object-fit:cover"></td>
                    <td>@ct.MaSpNavigation.TenSp</td>
                    <td>@ct.DonGia.ToString("N0") ₫</td>
                    <td>@ct.SoLuong</td>
                    <td class="text-danger fw-bold">
                        @((ct.SoLuong * ct.DonGia).ToString("N0")) ₫
                    </td>
                </tr>
            }
        </tbody>
    </table>

    <div class="text-end fs-5 fw-bold mt-3">
        Tổng cộng: <span class="text-danger">@Model.ChiTietDonHangs.Sum(c => c.SoLuong * c.DonGia).ToString("N0") ₫</span>
    </div>

    <div class="text-end mt-4">
        <a href="/DonHang/LichSu" class="btn btn-outline-secondary">
            <i class="fa-solid fa-arrow-left"></i> Quay lại
        </a>
    </div>
</div>
